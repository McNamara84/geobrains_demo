<!DOCTYPE html>
<html lang="de">

<head>
  <!-- Erforderliche Metadaten -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- jQuery UI CSS -->
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css" />
  <!-- Tree JS CSS -->
  <link rel="stylesheet" href="./keywords/treejs.css" />
  <link rel="stylesheet" href="./css/bs5-chosen.css">
  <!--einbindung die Bibliothek mit dem Formular-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <style type="text/css">
    .jstree-container-ul>li>a>i.jstree-checkbox {
      display: none;
    }

    .invalid {
      background-color: #fdd8dd;
    }
  </style>
  <title>DataCite Metadata Editor V0.2</title>
</head>

<body>
  <!-- Fixed Header -->
  <header class="navbar navbar-primary sticky-top bg-primary flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3 text-white" href="#">
      <?php echo $translations['logotitle']; ?>
    </a>
    <div class="dropdown ms-auto me-3">
      <!-- Erstellung des Moden Dropdown-Menüs -->
      <button class="btn btn-primary dropdown-toggle" id="bd-theme" type="button" data-bs-toggle="dropdown"
        aria-expanded="false">
        <i class="bi bi-brightness-high-fill"></i><span class="ms-2">Auto</span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme">
        <li><a class="dropdown-item active" data-bs-theme-value="auto">Auto</a></li>
        <li><a class="dropdown-item" data-bs-theme-value="light">Light</a></li>
        <li><a class="dropdown-item" data-bs-theme-value="dark">Dark</a></li>
      </ul>
    </div>

    <div class="dropdown me-3">
      <!-- Erstellung des Sprachen Dropdown-Menüs -->
      <button class="btn btn-primary dropdown-toggle" id="bd-theme" type="button" data-bs-toggle="dropdown"
        aria-expanded="false">
        <i class="bi bi-translate"></i><span class="ms-2">Lang</span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme">
        <li><a class="dropdown-item active" data-bs-theme-value="auto">Auto</a></li>
        <li><a class="dropdown-item" id='lang/en.php'>EN</a></li>
        <li><a class="dropdown-item" id='lang/de.php'>DE</a></li>
      </ul>
    </div>
  </header>

  <!-- Formular -->
  <main class="container-fluid my-5 pb-5">
    <form id="metaForm" method="post" action="index.php" class="needs-validation" novalidate>
      <div class="card mb-2">
        <div class="card-header"><b>
            <?php echo $translations['resourceInformation']; ?>
          </b></div>
        <div class="card-body">
          <div class="row">
            <!-- In diesem Abschnitt wird ein Eingabefeld für die DOI erstellt. -->
            <div class="form-floating col-sm-6 col-md-4 col-lg-3 p-1">
              <input type="text" class="form-control" data-bs-toggle="tooltip" data-bs-title="<?php echo $translations['doi_tooltip']; ?>
                id=" inputDOI" name="doi" pattern="^10\.\d{3,9}\/[-._;()\/:A-Z0-9a-z][^ \t\n\r]+$" />
              <label for="inputDOI">
                <?php echo $translations['doi']; ?>
              </label>
              <!-- Hier wird eine Rückmeldung angezeigt, wenn das DOI-Format ungültig ist. -->
              <div class="invalid-feedback">
                <?php echo $translations['doi_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
            </div>
            <!-- In diesem Abschnitt wird ein Eingabefeld für "Year" erstellt. -->
            <div class="form-floating col-sm-6 col-md-4 col-lg-2 p-1">
              <input type="number" class="form-control" data-bs-toggle="tooltip" data-bs-title="<?php echo $translations['publicationYear_tooltip']; ?>
                min=" 1900" max="2099" name="year" pattern="^[0-9]{4}$" required />
              <label for="inputPublicationYear">
                <?php echo $translations['publicationYear']; ?>
              </label>
              <div class="invalid-feedback">
                <?php echo $translations['publicationYear_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
            </div>
            <!-- In diesem Abschnitt wird ein drowpdowen-Menü für "Resource Type" erstellt. -->
            <div class="form-floating col-sm-6 col-md-4 col-lg-3 p-1">
              <select class="form-select" data-bs-toggle="tooltip"
                data-bs-title="<?php echo $translations['resourceType_tooltip']; ?>" id="inputResourceType"
                aria-describedby="resourceTypeHelpBlock" name="resourcetype" required>
                <option disabled selected hidden value="">
                  <?php echo $translations['choose']; ?>
                </option>
                <?php echo $optionresourcentype; ?>
              </select>
              <div class="invalid-feedback">
                <?php echo $translations['PleaseChoose_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
              <label for="inputResourceType">
                <?php echo $translations['resourceType']; ?>
              </label>
            </div>
            <div class="form-floating col-sm-6 col-md-6 col-lg-2 p-1">
              <input type="number" class="form-control" data-bs-toggle="tooltip"
                data-bs-title="<?php echo $translations['version_tooltip']; ?>" id="inputVersion" min="1" max="99"
                name="version" pattern="^[0-9]{1,2}$" />
              <label for="inputVersion">
                <?php echo $translations['version']; ?>
              </label>
              <div class="invalid-feedback">
                <?php echo $translations['version_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
            </div>
            <div class="form-floating col-sm-12 col-md-6 col-lg-2 p-1">
              <select class="form-select" data-bs-toggle="tooltip"
                data-bs-title="T<?php echo $translations['languageofdataset_tooltip']; ?>" id="inputLanguageDataset"
                name="language" aria-describedby="languageDatasetHelpBlock" required>
                <?php echo $optionlanguage; ?>
              </select>
              <div class="invalid-feedback">
                <?php echo $translations['PleaseChoose_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
              <label for="inputLanguageDataset">
                <?php echo $translations['languageofdataset']; ?>
              </label>
            </div>
          </div>
          <div style="height: 10px;"></div>
          <div class="row align-items-center">
            <div class="form-floating col-xs-12 col-sm-12 col-md-10 p-1">
              <input type="text" class="form-control" data-bs-toggle="tooltip"
                data-bs-title="<?php echo $translations['title_tooltip']; ?>" id="inputTitle" name="title[]"
                pattern="^[a-zA-ZäöüÄÖÜß 0-9]+$" required />
              <label for="inputTitle">
                <?php echo $translations['title']; ?>
              </label>
              <div class="invalid-feedback">
                <?php echo $translations['title_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
            </div>
            <div class="form-floating col p-1">
              <select class="form-select" data-bs-toggle="tooltip"
                data-bs-title="<?php echo $translations['titleType_tooltip']; ?>" id="inputTitleType" name="titleType[]"
                aria-describedby="titleTypeHelpBlock" required>
                <?php echo $optiontitle_type; ?>
              </select>
              <label for="inputTitle">
                <?php echo $translations['titleType']; ?>
              </label>
              <div class="invalid-feedback">
                <?php echo $translations['PleaseChoose_invalid']; ?>
              </div>
              <div class="valid-feedback">
                <?php echo $translations['valid']; ?>
              </div>
            </div>
            <div class="col-auto">
              <button type="button" class="btn btn-primary addTitle" data-bs-toggle="tooltip"
                data-bs-title="<?php echo $translations['titleType+_tooltip']; ?>" id="addTitle" style="width: 36px">
                <?php echo $translations['titleType+']; ?>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="card mb-2">
        <div class="card-header"><b>
            <?php echo $translations['rights']; ?>
          </b></div>
        <div id="RightsGroup">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="form-floating col p-1">
                <select class="form-select" data-bs-toggle="tooltip"
                  data-bs-title="<?php echo $translations['rightsTitle_tooltip']; ?>" id="inputRights" name="Rights"
                  aria-describedby="rightsTypeHelpBlock" required>
                  <?php echo $optionrights; ?>
                </select>
                <div class="invalid-feedback">
                  <?php echo $translations['PleaseChoose_invalid']; ?>
                </div>
                <div class="valid-feedback">
                  <?php echo $translations['valid']; ?>
                </div>
                <label for="inputRights">
                  <?php echo $translations['rightsTitle']; ?>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card mb-2">
        <div class="card-header"><b>
            <?php echo $translations['authors']; ?>
          </b></div>
        <div class="card-body">
          <div id="authorGroup">
            <div class="row align-items-center" data-creator-row>
              <div class="form-floating col-sm-6 col-md-4 col-lg-2 p-1">
                <input type="text" class="form-control" data-bs-toggle="tooltip"
                  data-bs-title="<?php echo $translations['lastname_tooltip']; ?>" id="inputFamilyname"
                  name="familynames[]" pattern="^[a-zA-ZäöüÄÖÜß -]{1,666}$" required />
                <label for="inputFamilyname">
                  <?php echo $translations['lastname']; ?>
                </label>
                <div class="invalid-feedback">
                  <?php echo $translations['lastname_invalid']; ?>
                </div>
                <div class="valid-feedback">
                  <?php echo $translations['valid']; ?>
                </div>
              </div>
              <div class="form-floating col-sm-6 col-md-4 col-lg-2 p-1">
                <input type="text" class="form-control" data-bs-toggle="tooltip"
                  data-bs-title="<?php echo $translations['firstname_tooltip']; ?>" id="inputGivenname"
                  name="givennames[]" pattern="^[a-zA-ZäöüÄÖÜß -]{1,746}$" required />
                <label for="inputGivenname">
                  <?php echo $translations['firstname']; ?>
                </label>
                <div class="invalid-feedback">
                  <?php echo $translations['firstname_invalid']; ?>
                </div>
                <div class="valid-feedback">
                  <?php echo $translations['valid']; ?>
                </div>
              </div>
              <div class="form-floating col-sm-6 col-md-4 col-lg-2 p-1">
                <select data-placeholder="Choose Role(s)..." class="form-select chosen-select" Sid="inputRole"
                  name="roles[]" multiple="multiple" required>
                  <?php echo $optionrole; ?>
                </select>
                <div class="invalid-feedback">Please choose</div>
                <div class="valid-feedback">Valid</div>
              </div>
              <div class="form-floating col-sm-6 col-md-4 col-lg-2 p-1">
                <input type="text" class="form-control" data-bs-toggle="tooltip"
                  data-bs-title="<?php echo $translations['authorORCID_tooltip']; ?>" id="inputAuthorORCID"
                  name="orcids[]" pattern="^[0-9]{4}-[0-9]{4}-[0-9]{4}-([0-9]{4}|[0-9]{3}X)$" required />
                <label for="inputAuthorORCID">
                  <?php echo $translations['authorORCID']; ?>
                </label>
                <div class="invalid-feedback">
                  <?php echo $translations['authorORCID_invalid']; ?>
                </div>
                <div class="valid-feedback">
                  <?php echo $translations['valid']; ?>
                </div>
              </div>
              <div class="form-floating col p-1">
                <input type="text" class="form-control" data-bs-toggle="tooltip"
                  data-bs-title="<?php echo $translations['affiliation_tooltip']; ?>" id="inputAuthorAffiliation"
                  name="affiliation[]" pattern="^[a-zA-ZäöüÄÖÜß 0-9-]+$" />
                <label for="inputAuthorAffiliation">
                  <?php echo $translations['affiliation']; ?>
                </label>
                <div class="invalid-feedback">
                  <?php echo $translations['affiliation_invalid']; ?>
                </div>
                <div class="valid-feedback">
                  <?php echo $translations['valid']; ?>
                </div>
                <input type="hidden" id="hiddenAuthorRorId" />
              </div>
              <div class="col-auto">
                <button type="button" class="btn btn-primary addAuthor" data-bs-toggle="tooltip"
                  data-bs-title="Please click here to add more authors." id="addAuthor" style="width: 36px">
                  <?php echo $translations['authors+']; ?>
                </button>
                <div class="invalid-feedback">
                  <?php echo $translations['authors+_tooltip']; ?>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </main>
  <!-- Fixed Footer für die Buttons -->
  <footer class="footer mt-auto py-3 fixed-bottom">
    <div class="container">
      <div class="row">
        <div class="col d-flex align-items-center justify-content-center">
          <div id="error-messages" class="text-danger"></div>
        </div>
        <div class="col-auto d-flex align-items-center justify-content-end">
          <button type="button" class="btn btn-danger m-1" data-bs-toggle="tooltip"
            data-bs-title="Delete all entries or content." id="resetButton">
            <?php echo $translations['clear']; ?>
          </button>
          <div class="invalid-feedback">
            <?php echo $translations['clear_tooltip']; ?>
          </div>
          <span data-bs-toggle="tooltip" data-bs-title="Load saved data or content.">
            <button class="btn btn-primary" type="button" disabled>
              <?php echo $translations['load']; ?>
            </button>
            <div class="invalid-feedback">
              <?php echo $translations['load_tooltip']; ?>
            </div>
          </span>
          <button type="button" class="btn btn-warning m-1" data-bs-toggle="tooltip"
            data-bs-title="Save the current data or content under a new file name." onclick="handleSaveAs()"
            id="saveButton">
            <?php echo $translations['saveAs']; ?>
          </button>
          <div class="invalid-feedback">
            <?php echo $translations['saveAs_tooltip']; ?>
          </div>
          <button type="submit" class="btn btn-success m-1" data-bs-toggle="tooltip"
            data-bs-title="Transmit the entered data or content." form="metaForm" id="submitButton">
            <?php echo $translations['submit']; ?>
          </button>
          <div class="invalid-feedback">
            <?php echo $translations['submit_tooltip']; ?>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
    integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- jQuery UI -->
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"
    integrity="sha512-rMGGF4wg1R73ehtnxXBt5mbUfN9JUJwbk21KMlnLZDJh7BkPmeovBuddZCENJddHYYMkCh9hPFnPmS9sspki8g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <!-- JavaScript-Dateien -->
  <!--<script src="./keywords/jstree.js"></script>-->
  <!-- Funktionen der Buttons -->
  <script src="js/buttons.js"></script>
  <!-- Thesauri laden -->
  <!-- script src="js/thesauri.js"></script -->
  <!-- Validierungen laden -->
  <script src="js/validation.js"></script>
  <!-- autocomplete laden -->
  <script src="js/autocomplete.js"></script>
  <!-- Darkmode-Funktionen eingebunden -->
  <script src="js/darkmode.js"></script>
  <!-- XML-JS eingebunden -->
  <script src="js/saveXml.js"></script>
  <!-- Bootstrap 5 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="js/select.js"></script>
</body>

</html>